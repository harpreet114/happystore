import{g as n,s as P,u as S,p as q}from"./updateCartValue-DN_nZs8e.js";let f=document.querySelector(".productSubTotal"),g=document.querySelector(".productFinalTotal");const m=()=>{let r=n().reduce((c,l)=>{let u=parseInt(l.price)||0;return c+u},0);f.textContent=`₹${r}`,g.textContent=`₹${r+50}`};m();const x=o=>{let e=n();e=e.filter(c=>c.id!==o),localStorage.setItem("cartProductLS",JSON.stringify(e));let r=document.querySelector(`#card${o}`);r&&(r.remove(),P("delete",o)),S(e),m()},L=(o,e)=>{let c=n().find(u=>u.id===o),l=1;return c&&(l=c.quantity,e=c.price),{quantity:l,price:e}};let T=n();const N=(o,e,r,c)=>{const l=document.querySelector(`#card${e}`),u=l.querySelector(".productQuantity"),d=l.querySelector(".productPrice");let t=1,a=0,p=n().find(s=>s.id===e);p?(t=p.quantity,a=p.price):a=c,o.target.className==="cartIncrement"&&(t<r?t+=1:t===r&&(t=r)),o.target.className==="cartDecrement"&&(t>1?t-=1:t==1&&(t=1)),a=c*t,a=Number(a.toFixed(2));let i={id:e,quantity:t,price:a};i=T.map(s=>s.id===e?i:s),console.log(i),localStorage.setItem("cartProductLS",JSON.stringify(i)),d.innerHTML=a,u.innerHTML=t,S(i),m()};let v=n(),C=q.filter(o=>v.some(e=>e.id===o.id));console.log(C);const E=document.querySelector("#productCartContainer"),F=document.querySelector("#productCartTemplate"),b=()=>{C.forEach(o=>{const{category:e,id:r,image:c,name:l,stock:u,price:d}=o;let t=document.importNode(F.content,!0);t.querySelector("#cardValue").setAttribute("id",`card${r}`),t.querySelector(".category").textContent=e,t.querySelector(".productName").textContent=l,t.querySelector(".productImage").src=c;const a=L(r,d);t.querySelector(".productQuantity").textContent=a.quantity,t.querySelector(".productPrice").textContent=a.price,t.querySelector(".stockElement").addEventListener("click",y=>{N(y,r,u,d)}),t.querySelector(".remove-to-cart-button").addEventListener("click",()=>{x(r)}),E.appendChild(t)})};b();m();
